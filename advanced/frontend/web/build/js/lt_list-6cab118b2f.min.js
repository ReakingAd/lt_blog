/* Build by Ltvieri 2017/03/07 00:34:45 */
(function(){"use strict";var t=this,a=t.jQuery;"undefined"==typeof t.blog&&(t.blog={}),t.blog.show={init:function(){this.showKeyword(),this.showKeywordPage(),this.getPm2_5(),this.searchArticle()},showKeyword:function(){for(var t=lt_list.keywords.split(","),i=a(".tags-container"),l=0;l<t.length;l++)i.tags({content:t[l],canRemove:"false"})},showKeywordPage:function(){a(".tags-container").on("click",".tag-container",function(){var t=a(this).find(".lt-tag").text();window.location.href=lt_global.baseurl+"/list/tags/"+t})},getPm2_5:function(){a.ajax({url:"../post/aqi",type:"get",dataType:"json",cache:!0,success:function(t){var i;t&&t.aqi_pm25?(i=t.aqi_pm25,a(".pm2_5").html(i)):console.warn("获取pm2.5数据出错。")}})},searchArticle:function(){var t=this;a(".x_page_container .lt-pagination").LTPagination({ajaxUrl:"../post/search-article",ajaxCallback:t.filloutArticleList,ajaxExtraParam:{}})},filloutArticleList:function(t){var i=[];if(!(t&&t.list.length>0))return console.log("无可用数据.");i=t.list;for(var l="",e=0;e<i.length;e++){var n=i[e].title,s=i[e].create_time.split(" ")[0],o="/article/"+i[e].id+"/"+i[e].title,r=i[e].status,c="";"2"===r&&(c='<i class="draft-label pull-left">[草稿]</i>'),l+='<li><a class="pull-left" href="'+o+'">'+n+"</a>"+c+'<span class="update-time pull-right">'+s+"</span></li>"}var u=a(".article-all");u.html(""),u.append(l)}}}).call(this),$(document).ready(function(){"use strict";var t=window;t.jQuery;t.blog.show.init()});